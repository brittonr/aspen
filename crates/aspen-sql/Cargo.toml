[package]
name = "aspen-sql"
version = "0.1.0"
edition = "2024"
license = "AGPL-3.0-or-later"
description = "DataFusion SQL query engine for Aspen's Redb storage backend"

[dependencies]
aspen-core = { path = "../aspen-core", features = ["sql"] }
aspen-storage-types = { path = "../aspen-storage-types" }

# Database
redb = "2.0.0"

# SQL engine
datafusion = { version = "45", default-features = false, features = ["nested_expressions"] }
arrow = "54"
regex = "1.10"

# Async
async-trait = "0.1"
futures = "0.3"
tokio = { version = "1.48", features = ["time"] }

# Serialization
bincode = "1.3"
serde = { version = "1.0", features = ["derive"] }

# Error handling
snafu = "0.8"

[dev-dependencies]
tokio = { version = "1.48", features = ["rt-multi-thread", "macros"] }
tempfile = "3.10"
