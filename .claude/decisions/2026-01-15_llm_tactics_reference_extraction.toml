# =============================================================================
# LLM Tactics Reference Extraction
# =============================================================================

[meta]
id = "ADR-2026-0015"
title = "Extract LLM Tactics as Reusable Reference for Rust+Nix Projects"
date = "2026-01-15"
author = "Claude (Ultra Mode)"
status = "implemented"

[classification]
type = "design"
category = "documentation"
tags = ["llm", "claude-code", "best-practices", "templates", "nix", "rust"]
priority = "high"

[context]
problem = """
Aspen has accumulated significant LLM-assisted development practices including
CLAUDE.md documentation, decision records, and Nix configuration patterns.
These practices could benefit other Rust+Nix projects but were not in a
portable, reusable format.
"""
background = """
Research into industry best practices revealed:
- Anthropic recommends CLAUDE.md files <300 lines with progressive disclosure
- HumanLayer suggests even shorter (<60 lines) with references to detailed docs
- Decision documentation systems (ADR) provide structured architectural history
- Nix configuration patterns benefit from self-documenting comment blocks
- Skills and commands provide reusable workflow automation

The goal was to extract these patterns into templates that any Rust+Nix project
can adopt.
"""

[decision]
summary = """
Extracted LLM tactics patterns into a standalone repository at
/home/brittonr/git/llm-tactics/ containing 14 template files covering
CLAUDE.md structure, decision documentation, skills, commands, Nix patterns,
and settings configuration. Distributed as a Nix flake for easy integration.
"""
rationale = """
Standalone repository chosen because:
1. Preserves Aspen's existing working configuration
2. Creates portable templates for any Rust+Nix project
3. Enables flake-based distribution (nix run github:your-org/llm-tactics)
4. Allows independent versioning and iteration
5. Templates can be scaffolded into projects via CLI tool
"""

[implementation]
description = """
Created standalone repository at /home/brittonr/git/llm-tactics/ with:
- Core documentation templates (CLAUDE.md, best practices)
- Decision system (template, workflow, index)
- Skills (security-audit, performance-analysis)
- Commands (test-quick, audit)
- Nix patterns (flake documentation, shellHook, feature matrix)
- Settings template (permissions configuration)
- Nix flake with scaffolding CLI (llm-tactics-init)
"""

[affected_files]
created = [
    "/home/brittonr/git/llm-tactics/README.md",
    "/home/brittonr/git/llm-tactics/CLAUDE.md.template",
    "/home/brittonr/git/llm-tactics/CLAUDE-BEST-PRACTICES.md",
    "/home/brittonr/git/llm-tactics/DECISION.toml.template",
    "/home/brittonr/git/llm-tactics/DECISION-WORKFLOW.md",
    "/home/brittonr/git/llm-tactics/INDEX.toml.template",
    "/home/brittonr/git/llm-tactics/skills/security-audit/SKILL.md",
    "/home/brittonr/git/llm-tactics/skills/performance-analysis/SKILL.md",
    "/home/brittonr/git/llm-tactics/commands/test-quick.md",
    "/home/brittonr/git/llm-tactics/commands/audit.md",
    "/home/brittonr/git/llm-tactics/nix/FLAKE-DOCUMENTATION.md",
    "/home/brittonr/git/llm-tactics/nix/SHELLHOOK.template",
    "/home/brittonr/git/llm-tactics/nix/FEATURES.toml.template",
    "/home/brittonr/git/llm-tactics/settings.json.template",
    "/home/brittonr/git/llm-tactics/flake.nix",
]
modified = []
deleted = []
reference = [
    ".claude/CLAUDE.md",
    "flake.nix",
    "tigerstyle.md",
]

[consequences]
positive = [
    "Portable templates for any Rust+Nix project",
    "Documented best practices with industry sources",
    "Standardized decision record format",
    "Reusable skills for security and performance analysis",
    "Self-documenting Nix configuration patterns",
    "Nix module (nix/llm-tactics.nix) enables flake-based distribution",
    "Other projects can import via flake input or fetchFromGitHub",
]
negative = [
    "Additional documentation to maintain",
    "Templates may drift from actual Aspen usage over time",
]

[follow_up]
todos = [
    "Push llm-tactics to GitHub and update flake URLs",
    "Add more skills as patterns emerge",
    "Create migration script for existing decision documents",
]
review_date = "2026-04-15"
